@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer components {
  /* Gradient text effects */
  .text-gradient-primary {
    background: linear-gradient(
      135deg,
      var(--color-palette-vibrant-pink) 0%,
      var(--color-palette-vibrant-purple) 25%,
      var(--color-palette-vibrant-blue) 50%,
      var(--color-palette-vibrant-cyan) 75%,
      var(--color-palette-vibrant-green) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-brand {
    background: linear-gradient(
      135deg,
      var(--color-palette-brand-primary) 0%,
      var(--color-palette-brand-secondary) 50%,
      var(--color-palette-brand-tertiary) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-soft {
    background: linear-gradient(
      135deg,
      var(--color-palette-soft-pink) 0%,
      var(--color-palette-soft-lavender) 50%,
      var(--color-palette-soft-sky) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glow effects */
  .text-glow {
    text-shadow: 0 0 var(--animation-translate-default) currentColor, 0 0 calc(var(--animation-translate-default) * 2) currentColor;
  }

  .text-glow-strong {
    text-shadow: 0 0 var(--animation-translate-default) var(--color-palette-vibrant-pink), 0 0 calc(var(--animation-translate-default) * 2) var(--color-palette-vibrant-pink);
  }

  .text-glow-medium {
    text-shadow: 0 0 var(--animation-translate-default) var(--color-palette-vibrant-purple), 0 0 calc(var(--animation-translate-default) * 2) var(--color-palette-vibrant-purple);
  }

  .text-glow-multi {
    text-shadow:
      0 0 var(--animation-translate-default) var(--color-palette-vibrant-pink),
      0 0 calc(var(--animation-translate-default) * 2) var(--color-palette-vibrant-purple),
      0 0 calc(var(--animation-translate-default) * 3) var(--color-palette-vibrant-blue);
  }

  /* Shimmer effect */
  .shimmer-effect {
    position: relative;
  }

  .shimmer-effect::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      radial-gradient(circle, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
      radial-gradient(circle, rgba(255, 255, 255, 0.6) 1px, transparent 1px);
    background-size: 50px 50px, 80px 80px;
    background-position: 0 0, 40px 60px;
    pointer-events: none;
    opacity: 0.3;
    animation: sparkle 2s ease-in-out infinite;
  }

  .shimmer-effect::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      45deg,
      transparent 40%,
      rgba(255, 255, 255, 0.3) 50%,
      transparent 60%
    );
    background-size: 200% 200%;
    pointer-events: none;
    animation: shimmer 3s linear infinite;
  }

  /* Dotted accent background */
  .dotted-accent-bg {
    position: relative;
    background-image:
      radial-gradient(circle, rgba(255, 107, 157, 0.3) 1px, transparent 1px),
      radial-gradient(circle, rgba(192, 132, 252, 0.3) 1px, transparent 1px),
      radial-gradient(circle, rgba(96, 165, 250, 0.3) 1px, transparent 1px);
    background-size: 25px 25px, 35px 35px, 45px 45px;
    background-position: 0 0, 15px 20px, 30px 10px;
    animation: sparkle 3s ease-in-out infinite;
  }

  /* Animated gradient effect */
  .gradient-animated {
    position: relative;
    background: linear-gradient(
      135deg,
      var(--color-palette-brand-primary) 0%,
      var(--color-palette-brand-secondary) 50%,
      var(--color-palette-brand-tertiary) 100%
    );
    background-size: 200% 200%;
    animation: shimmer var(--transition-duration-slower) linear infinite;
  }

  .gradient-border {
    position: relative;
    border: var(--border-semantic-strong) solid transparent;
    background: linear-gradient(
      var(--color-semantic-background-elevated),
      var(--color-semantic-background-elevated)
    ) padding-box,
    linear-gradient(
      135deg,
      var(--color-palette-brand-primary),
      var(--color-palette-brand-secondary),
      var(--color-palette-brand-tertiary)
    ) border-box;
    background-size: 100% 100%, 200% 200%;
    animation: shimmer var(--transition-duration-slower) linear infinite;
  }

  /* Multi-color border animation */
  .gradient-border-multi {
    position: relative;
    border: var(--border-semantic-strong) solid transparent;
    background: linear-gradient(
      var(--color-semantic-background-elevated),
      var(--color-semantic-background-elevated)
    ) padding-box,
    linear-gradient(
      135deg,
      var(--color-palette-vibrant-pink),
      var(--color-palette-vibrant-purple),
      var(--color-palette-vibrant-blue),
      var(--color-palette-vibrant-cyan),
      var(--color-palette-vibrant-green)
    ) border-box;
  }

  /* Decorative background patterns */
  .pattern-decorative-hearts {
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 45L18 33c-6-6-6-15 0-21 6-6 15-6 21 0l1 1 1-1c6-6 15-6 21 0 6 6 6 15 0 21L30 45z' fill='%23FFD6E8' fill-opacity='0.3'/%3E%3C/svg%3E");
    background-size: 60px 60px;
    background-repeat: repeat;
  }

  .pattern-decorative-stars {
    background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 5l2 12h12l-10 7 4 12-8-6-8 6 4-12-10-7h12z' fill='%23E6D9FF' fill-opacity='0.4'/%3E%3C/svg%3E");
    background-size: 40px 40px;
    background-repeat: repeat;
  }

  /* Prose styling for TipTap editor with colorful theme */
  .prose {
    @apply text-foreground;
  }

  .prose h1 {
    @apply text-4xl font-bold mb-component-gap mt-component font-display;
    background: linear-gradient(135deg, var(--color-palette-vibrant-pink), var(--color-palette-vibrant-purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .prose h2 {
    @apply text-3xl font-bold mb-3 mt-component-sm font-display;
    background: linear-gradient(135deg, var(--color-palette-vibrant-purple), var(--color-palette-vibrant-blue));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .prose h3 {
    @apply text-2xl font-bold mb-2 mt-component-gap font-display;
    color: var(--color-palette-vibrant-purple);
  }

  .prose h4 {
    @apply text-xl font-bold mb-2 mt-3 font-display;
    color: var(--color-palette-vibrant-blue);
  }

  .prose h5 {
    @apply text-lg font-bold mb-2 mt-3 font-display;
    color: var(--color-palette-vibrant-cyan);
  }

  .prose h6 {
    @apply text-base font-bold mb-2 mt-3 font-display;
    color: var(--color-palette-vibrant-green);
  }

  .prose p {
    @apply mb-component-gap leading-relaxed;
  }

  .prose a {
    @apply text-primary hover:text-primary-hover underline font-medium;
    text-decoration-color: var(--color-palette-vibrant-pink);
    text-underline-offset: var(--spacing-1);
    transition: all var(--transition-duration-base) ease;
  }

  .prose a:hover {
    text-shadow: 0 0 var(--spacing-2) var(--color-palette-vibrant-pink);
  }

  .prose ul {
    @apply list-disc list-inside mb-component-gap space-y-2;
  }

  .prose ol {
    @apply list-decimal list-inside mb-component-gap space-y-2;
  }

  .prose li {
    @apply text-foreground;
  }

  .prose li::marker {
    color: var(--color-palette-vibrant-purple);
  }

  .prose code {
    @apply bg-soft-lavender px-2 py-1 rounded-lg font-mono text-sm;
    color: var(--color-palette-vibrant-purple);
  }

  .prose pre {
    @apply bg-soft-pink border-2 border-soft-lavender rounded-input p-component-gap overflow-x-auto mb-component-gap;
    box-shadow: 0 var(--spacing-1) var(--spacing-3) rgba(168, 85, 247, 0.1);
  }

  .prose pre code {
    @apply bg-transparent p-0;
  }

  .prose blockquote {
    @apply border-l-4 pl-component-gap italic my-component-gap rounded-r-lg py-2;
    border-color: var(--color-palette-vibrant-pink);
    background: linear-gradient(
      to right,
      rgba(255, 214, 232, 0.3),
      transparent
    );
    color: var(--color-palette-neutral-700);
  }

  .prose table {
    @apply w-full border-collapse my-component-gap rounded-lg overflow-hidden;
  }

  .prose th {
    @apply border border-soft-lavender p-3 text-left font-bold;
    background: linear-gradient(135deg, var(--color-palette-soft-pink), var(--color-palette-soft-lavender));
    color: var(--color-palette-vibrant-purple);
  }

  .prose td {
    @apply border border-soft-lavender p-3;
    background: var(--color-palette-surface-elevated);
  }

  .prose tr:hover td {
    background: var(--color-palette-soft-pink);
    transition: background var(--transition-duration-base) ease;
  }

  .prose img {
    @apply max-w-full h-auto rounded-card my-component-gap;
    box-shadow: 0 var(--spacing-2) var(--spacing-6) rgba(168, 85, 247, 0.2);
  }

  .prose strong {
    @apply font-bold;
    color: var(--color-palette-vibrant-pink);
  }

  .prose em {
    @apply italic;
    color: var(--color-palette-vibrant-purple);
  }

  .prose hr {
    @apply my-component-lg border-0 h-1 rounded-full;
    background: linear-gradient(
      to right,
      var(--color-palette-vibrant-pink),
      var(--color-palette-vibrant-purple),
      var(--color-palette-vibrant-blue)
    );
  }

  /* Mark/highlight styling */
  .prose mark {
    @apply rounded px-1;
    background: linear-gradient(
      120deg,
      rgba(255, 214, 232, var(--opacity-disabled)) 0%,
      rgba(230, 217, 255, var(--opacity-disabled)) 100%
    );
    color: var(--color-palette-neutral-900);
  }
}
